!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Mobile=function t(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},s=arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=e,this.velocity=n,this.scaling=s,this.move=function(){i.position.x+=i.velocity.x*i.scaling.x,i.position.y+=i.velocity.y*i.scaling.y},this.accelerate=function(t){i.velocity.x+=t.x,i.velocity.y+=t.y},this.updateScaling=function(t){i.scaling.x=t.x/100,i.scaling.y=t.y/100},s||(this.updateScaling=function(){}),this.scaling={x:1,y:1}}},function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(0);!function(t){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(s(this,e),Array.isArray(t)){var n,r=t;(a=o(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(r))))).from={x:a[0],y:a[1]},a.to={x:a[2],y:a[3]}}else{var a,l=t;(a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,l.x,l.y,i.x,i.y))).from=l,a.to=i}return o(a)}r(e,Array)}();function l(t,e,i){var n=void 0;switch(i){case"stroke":n=t.strokeStyle,t.strokeStyle=e,t.stroke(),t.strokeStyle=n;case"fill":n=t.fillStyle,t.fillStyle=e,t.fill(),t.fillStyle=n}}var c=function(t){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:100,y:100},n=arguments[2],r=arguments[3];s(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.ctx=t,a.mode="fill",a.width=i.x,a.height=i.y,a}return r(e,a.Mobile),n(e,[{key:"draw",value:function(t){this[this.mode](t)}},{key:"stroke",value:function(t){t&&(this.strokeStyle=t),this.ctx.beginPath(),this.ctx.rect(this.position.x,this.position.y,this.width,this.height),l(this.ctx,this.strokeStyle,"stroke"),this.ctx.closePath()}},{key:"fill",value:function(t){t&&(this.fillStyle=t),this.ctx.beginPath(),this.ctx.rect(this.position.x,this.position.y,this.width,this.height),l(this.ctx,this.fillStyle,"fill"),this.ctx.closePath()}}]),e}();e.Rectangle=c;var h=function(t){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3];s(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.ctx=t,a.radius=i,a.mode="fill",a}return r(e,a.Mobile),n(e,[{key:"draw",value:function(t){this[this.mode](t)}},{key:"stroke",value:function(t){t&&(this.strokeStyle=t),this.ctx.beginPath(),this.ctx.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI,!1),l(this.ctx,this.strokeStyle,"stroke"),this.ctx.closePath()}},{key:"fill",value:function(t){t&&(this.fillStyle=t),this.ctx.beginPath(),this.ctx.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI,!1),l(this.ctx,this.fillStyle,"fill"),this.ctx.closePath()}}]),e}();e.Circle=h},function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),o=10,r=5,a="#0095dd",l=10,c=100,h=10,u=7,d="#0095dd",f=6,y=12,p=10,v=1,x=["#0095dd","#00db6e","#49db00","#dbb700","#db0000","#db00b7"],b=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.leftPressed=!1,this.rightPressed=!1,this.started=!1,this.paused=!0}return n(t,[{key:"init",value:function(t){var e=this;this.ctx=t,this.initPaddle(),this.initBall(),this.initBricks(),document.addEventListener("keydown",function(t){return e.onKeyDown(t)},!1),document.addEventListener("keyup",function(t){return e.onKeyUp(t)},!1)}},{key:"render",value:function(){var t={x:this.ctx.canvas.clientWidth,y:this.ctx.canvas.clientHeight};this.paddle.updateScaling(t),this.ball.updateScaling(t),this.paused&&this.started||this.detectPaddleMovement(),this.paused||(this.ball.move(),this.detectWallCollision(),this.detectBrickCollision()),this.paddle.draw(),this.ball.draw(),this.drawBricks()}},{key:"resume",value:function(){this.started=!0,this.paused=!1,this.ball.velocity=this.previousVelocity}},{key:"pause",value:function(){this.paused=!0,this.previousVelocity=this.ball.velocity,this.ball.velocity={x:0,y:0}}},{key:"end",value:function(){this.paused=!0,alert("Game Over!")}},{key:"onKeyDown",value:function(t){32===t.keyCode?this.paused?this.resume():this.pause():39==t.keyCode?this.rightPressed=!0:37==t.keyCode&&(this.leftPressed=!0)}},{key:"onKeyUp",value:function(t){39==t.keyCode?this.rightPressed=!1:37==t.keyCode&&(this.leftPressed=!1)}},{key:"detectPaddleMovement",value:function(){var t=this.ctx.canvas.clientWidth,e=0;if(this.rightPressed){this.paddle.position.x+=u;var i=this.paddle.position.x+this.paddle.width;e=u,i>t&&(this.paddle.position.x=t-this.paddle.width,e-=i-t)}if(this.leftPressed){this.paddle.position.x-=u;var n=this.paddle.position.x+0;e=-u,n<0&&(this.paddle.position.x=0,e+=0-n)}this.started||(this.ball.position.x+=e)}},{key:"detectWallCollision",value:function(){var t=this.ball,e=t.position,i=t.velocity,n=this.ctx.canvas.clientHeight-this.ball.radius,s=this.ctx.canvas.clientWidth-this.ball.radius,o=n-h-l,a=this.paddle.position.x,c=this.paddle.position.x+this.paddle.width,u=e.x+this.ball.radius,d=e.x-this.ball.radius;if(e.x+i.x<this.ball.radius||e.x+i.x>s)i.x=-i.x;else if(e.y+i.y<this.ball.radius)i.y=-i.y;else if(e.y+i.y>o)if(u>a&&d<c){i.y=-i.y;var f=(this.paddle.position.x-e.x)/this.paddle.width,y=Math.abs(Math.round(f)-f);Math.round(f)?i.x=(1-y)*r:i.x=-(1-y)*r}else e.y+i.y>n&&this.end()}},{key:"detectBrickCollision",value:function(){var t=this;this.bricks.forEach(function(e,i){e.forEach(function(e,n){var s=t.bricks[i][n],o=s.rect.position,r=s.rect,a=r.width,l=r.height,c=t.ball.position,h=c.x,u=c.y;h>o.x&&h<o.x+a&&u>o.y&&u<o.y+l&&(t.ball.velocity.x=-t.ball.velocity.x,t.ball.velocity.y=-t.ball.velocity.y,s.hits-=1)})})}},{key:"initBall",value:function(){var t={x:this.ctx.canvas.clientWidth/2,y:this.ctx.canvas.clientHeight-l-h-o};this.previousVelocity={x:0,y:-r},this.ball=new s.Circle(this.ctx,o,t,this.previousVelocity),this.ball.fillStyle=a}},{key:"initPaddle",value:function(){var t=this.ctx.canvas.clientWidth,e=this.ctx.canvas.clientHeight,i={x:(t-c)/2,y:e-l-h},n={x:c,y:l};this.paddle=new s.Rectangle(this.ctx,n,i),this.paddle.fillStyle=d}},{key:"initBricks",value:function(){var t=this;this.bricks=Array(f).fill(null).map(function(){return Array(y).fill(null).map(function(){return{hits:v,rect:new s.Rectangle(t.ctx)}})})}},{key:"drawBricks",value:function(){var t=this,e=p,i=f,n=y,s=x,o=this.ctx.canvas.clientWidth,r=this.ctx.canvas.clientHeight,a=(o-2*e-(n-1)*e)/n,l=(r/2-e-(i-1)*e)/i,c=a+e,h=l+e;this.bricks.forEach(function(i,n){i.forEach(function(i,o){var r=t.bricks[n][o];if(0===r.hits)return r.rect.position={x:-1,y:-1},void(r.rect.width=r.rect.height=0);r.rect.width=a,r.rect.height=l,r.rect.position={x:c*o+e,y:h*n+e},r.rect.draw(s[r.hits-1])})})}}]),t}();e.Game=b},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contexts={"2D":{getContext:function(t){return t.getContext("2d")}},WebGL:{getContext:function(t){var e=t.getContext("webgl");if(!e)throw new Error("Unable to initialize WebGL!Your browser or machine may not support it.");return e},clear:function(t){t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)}}}},function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3);e.Renderable=function t(){s(this,t)};var r=function(){function t(e){var i;s(this,t),this.client=e,this.body=document.body,this.canvas=document.createElement("canvas"),i=this.body,Array.from(i.children).forEach(function(t){return i.removeChild(t)}),this.body.appendChild(this.canvas);try{this.context=o.contexts["2D"].getContext(this.canvas)}catch(t){return void(document.body.innerHTML="<h1>"+t+"</h1>")}this.client.init(this.context),this.tick()}return n(t,[{key:"tick",value:function(){var t,e=this;window.requestAnimationFrame(function(){return e.tick()}),(t=this.canvas).width=t.clientWidth,t.height=t.clientHeight,this.context.clearRect(0,0,this.context.canvas.clientWidth,this.context.canvas.clientHeight),this.client.render()}}]),t}();e.App=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),s=i(2);new n.App(new s.Game)}]);
//# sourceMappingURL=bundle.js.map